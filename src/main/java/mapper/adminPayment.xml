<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.adminPayment">

	<!-- 최고관리자의 승인 시 결제하기 버튼 -->

	<insert id="insertAdminPayment" parameterType="adminToss">
		INSERT INTO
		admin_payment (order_id, amount, payment_key, brand_id,
		created_at)
		VALUES (#{orderId}, #{amount}, #{paymentKey}, #{brandId}, NOW())
	</insert>


	<update id="updateSuccessByOrderId">
		UPDATE admin_payment
		SET payment_key = #{paymentKey},
		pay_date = #{approvedAt},
		amount = #{amount}
		WHERE order_id = #{orderId}
	</update>

	<update id="updateFailedByOrderId">
		UPDATE admin_payment
		SET payment_key = #{paymentKey},
		WHERE order_id = #{orderId}
	</update>

	<!-- banner_id로 결제 여부 조회 <select id="selectPaymentByBannerId" parameterType="long" 
		resultType="adminPayment"> SELECT * FROM admin_payment WHERE banner_id = 
		#{bannerId} </select> -->

</mapper>